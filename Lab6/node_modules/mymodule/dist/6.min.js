"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.task4=task4,exports.task5=task5,exports.start=start,exports.next=next,exports.add=add,exports.onbuttonadd=onbuttonadd,exports.piechat=piechat,exports.dayforbirthday=dayforbirthday,require("https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"),require("https://cdn.jsdelivr.net/lodash/4.10.0/lodash.js");var resarray=[],result=[],arrayfromrand=[];function course(){return["Mathematics","Physics","English","Computer Science","Dancing","Chess","Biology","Chemistry","Law","Art","Medicine","Statistics"][Math.floor(12*Math.random())+0]}function addone(e){arrayfromrand.push(e)}function task1(t){var r,n,a,o,i,u,l,c,s,d;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(r<t)return e.next=4,regeneratorRuntime.awrap(fetch("https://randomuser.me/api").then(function(e){return e.json()}).then(function(e){return addone(e)}));e.next=8;break;case 4:e.sent;case 5:r++,e.next=1;break;case 8:for(n=arrayfromrand,a=[],o=0;o<n.length;o++)i=n[o].results[0],(u={}).gender=i.gender,u.title=i.name.title,u.full_name=i.name.first+" "+i.name.last,u.city=i.location.city,u.state=i.location.state,u.country=i.location.country,u.postcode=i.location.postcode,u.coordinates=i.location.coordinates,u.timezone=i.location.timezone,u.email=i.email,u.b_date=i.dob.date,u.age=i.dob.age,u.phone=i.phone,u.picture_large=i.picture.large,u.picture_thumbnail=i.picture.thumbnail,u.id=i.id.name+i.id.value,a[o]=u;for(l=0;l<a.length;l++)a[l].favorite=!1,a[l].course=null,a[l].bg_color="#dface7",a[l].note="Note";for(c=a,s=0;s<c.length;s++){for(d=s+1;d<c.length;d++)c[s].full_name==c[d].full_name&&c.splice(d,1);null==c[s].course&&(c[s].course=course()),resarray.push(c[s])}case 14:case"end":return e.stop()}})}function check(e,t){if(1==t){if(null==e)return!1;if(null==e)return!1;if("string"!=typeof e)return!1;if(e.substring(0,1)==e.substring(0,1).toUpperCase())return!0}if(2==t)return null!=e&&(null!=e&&"string"==typeof e);if(3==t)return null!=e&&(null!=e&&"number"==typeof e);if(4==t){if(null==e)return!1;if(null==e)return!1;if("string"!=typeof e)return!1;return/@/.test(e)}}function task2(){for(var e=resarray,t=0;t<e.length;t++){var r=e[t].full_name,n=e[t].state,a=e[t].city,o=e[t].country,i=e[t].note,u=e[t].gender,l=e[t].age,c=e[t].email,s=!1;check(r,1)&&check(n,1)&&check(a,1)&&check(o,1)&&check(i,1)&&check(u,2)&&check(l,3)&&check(c,4)&&(s=!0),e[t].check=s}}function task4(t){resarray=_.sortBy(resarray,function(e){return 0==t?e.full_name.toLowerCase():1==t?e.course.toLowerCase():2==t?e.age:3==t?e.gender.toLowerCase():4==t?e.country.toLowerCase():void 0})}function task5(t){task8();var e=result;console.log(t);var r=_.find(e,function(e){return e.note==t||e.age==t||e.full_name==t});(result=[]).push(r),task7()}function task7(){var t,r,n,a,o,i,u,l,c,s,d,f,p;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=result,r=document.getElementById("gallery"),n="",a=0;a<t.length;a++)o=t[a],n+='<div class="teacher">',n+='<a href="#compact-card-popup'+a+'">',n+=' <div class="img"><img src="'+o.picture_large+'" alt=" Фото викладача "  width=200 height=200>',n+="</div>",n+="</a>",n+="<h2>"+o.full_name+"</h2>",n+="<label>"+o.course+"</label>",n+="<label>"+o.country+"</label>",n+="</div>",n+='<div id="compact-card-popup'+a+'" class="modal">',n+='    <div class="content">',n+="        <header> ",n+="           <h2>Compact card</h2>",n+='            <a href="#" class="box-close">x</a>',n+="        </header>",n+="        <form>",n+="            <figure>",n+='                <img src="'+o.picture_large+'"/>',n+="                <figcaption>",n+='                    <output name="full-name-out">'+o.full_name+"</output>",n+="                </figcaption>",n+="            </figure>",n+='            <a class="button" href="#full-card-popup'+a+'">',n+="                Open full card",n+="            </a>",n+="        </form>",n+="    </div>",n+="</div>",n+='<div id="full-card-popup'+a+'" class="modal">',n+=' <div class="content">',n+="     <header>",n+="         <h2>Full card</h2>",n+='         <a href="#" class="box-close">x</a>',n+="     </header>",n+="     <form>",n+="         <section>",n+="             <label>Full name</label>",n+="             <output>"+o.full_name+"</output>",n+="         </section>",n+="         <section>",n+="             <label>Sex</label>",n+="             <output>"+o.gender+"</output>",n+="         </section>",n+='         <div id="datecontact">',n+="         <section>",n+="             <label>Date of birth</label>",n+="             <output>"+o.b_date+"</output>",n+="         </section>",n+="         <section>",n+="             <label>Day to Birthday</label>",n+="             <output>"+dayforbirthday(o.b_date)+"</output>",n+="         </section>",n+="         </div>",n+='         <div id="contact">',n+="             <section>",n+="                 <label>e-mail</label>",n+="                 <output>"+o.email+"</output>",n+="             </section>",n+="             <section>",n+="                 <label>Telephone</label>",n+="                 <output>"+o.phone+"</output>",n+="             </section>",n+="         </div>",n+='         <div id="location">',n+="            <section>",n+="                 <label>Country</label>",n+="                 <output>"+o.country+"</output>",n+="             </section>",n+="             <section>",n+="                <label>City</label>",n+="                 <output>"+o.city+"</output>",n+="             </section>",n+="        </div>",n+="         <section>",n+="             <label>Comment</label>",n+="             <output>"+o.note+"</output>",n+="         </section>",n+="         <section>",n+="<button onclick=\"window.open('table6.html?par1="+o.coordinates.latitude+"&par2="+o.coordinates.longitude+"', '_blank','top=100, left=100, width=600, height=400');\">Нарисовать карту!</button>",n+="         </section>",n+="     </form>",n+=" </div>",n+="</div>";for(r.innerHTML=n,i=document.getElementById("grid"),u="<tr>",u+="<th>Name</th>",u+="<th>Speciality</th>",u+="<th>Age</th>",u+="<th>Sex</th>",u+="<th>Nationality</th>",u+="</tr>",u+="<tbody>",l=0;l<t.length;l++)c=t[l],u+="<tr>",u+="<td>"+c.full_name+"</td>",u+="<td>"+c.course+"</td>",u+="<td>"+c.age+"</td>",u+="<td>"+c.gender+"</td>",u+="<td>"+c.country+"</td>",u+="</tr>";for(u+="</tbody>",u+="<div>",u+="   <h1>Кількість по країнам</h1>",u+='  <canvas id="grafica"></canvas>',u+='<script  type = "module" >',u+='import "https://cdn.jsdelivr.net/npm/chart.js@latest/dist/Chart.min.js"',u+="import {piechat} from  './6.js';",u+="piechat();",u+="<\/script>",u+="</div>",i.innerHTML=u,s=document.getElementById("slider"),d='<div class="container">',d+='<a id="prev" class="slide-btn">&#10094;</a>',d+='<div class="items-container">',f=0;f<t.length;f++)p=t[f],d+='<div class="teacher" class="entry">',d+='<a href="#compact-card-popup'+f+'">',d+='<div class="img"><img src="'+p.picture_thumbnail+'" alt=" Фото викладача "  width=200 height=200>',d+="</div>",d+="</a>",d+="<h2>"+p.full_name+"</h2>",d+="<label>"+p.country+"</label>",d+="</div>";d+="</div>",d+='<a id="next" class="slide-btn">&#10095;</a>',d+="</div>",s.innerHTML=d;case 35:case"end":return e.stop()}})}function task8(){result=resarray.slice();var e=document.getElementById("age").selectedIndex,t=result;if("1"==e){var r=_.filter(t,function(e){return 18<=e.age&&e.age<=31});result=r}if("2"==e){var n=t.filter(function(e){return 32<=e.age&&e.age<=58});result=n}if("3"==e){var a=t.filter(function(e){return 59<=e.age&&e.age<=75});result=a}var o=document.getElementById("region").selectedIndex;if(t=result,"1"==o){var i=t.filter(function(e){return"Україна"==e.country});result=i}if("2"==o){var u=t.filter(function(e){return"Germany"==e.country});result=u}if("3"==o){var l=t.filter(function(e){return"Norway"==e.country});result=l}t=result;var c=document.getElementById("sex").selectedIndex;if("1"==c){var s=t.filter(function(e){return"male"==e.gender});result=s}if("2"==c){var d=t.filter(function(e){return"female"==e.gender});result=d}if(1==document.getElementById("photo").checked){var f=(t=result).filter(function(e){return null!=e.picture_thumbnail&&null!=e.picture_thumbnail});result=f}if(1==document.getElementById("favourite").checked){var p=(t=result).filter(function(e){return null!=e.favorite&&null!=e.favorite&&1==e.favorite});result=p}}function start(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(task1(50));case 2:return task2(),task8(),e.next=6,regeneratorRuntime.awrap(task7());case 6:case"end":return e.stop()}})}function next(){task8(),task7()}function add(e,t,r,n,a,o,i,u,l,c){var s={};s.gender=i,s.full_name=e,s.city=o,"ua"?s.country="Україна":"cz"?s.country="Česká Republika":s.country="United Kingdom",s.email=r,s.b_date=u,s.phone=n,s.favorite=!0,s.course=t,s.bg_color=l,s.note=c,resarray.push(s)}function onbuttonadd(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(task1(10));case 2:task2();case 3:case"end":return e.stop()}})}function piechat(){var t,r,n,a,o,i,u,l,c,s,d,f,p,h,m,y,g;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector("#grafica"),[{country:"Germany"},{country:"Germany"},{country:"Poland"},{country:"Germany"},{country:"Ukraine"},{country:"Britain"}],null!=(r=result)&&null!=r&&0<r.length){for(r=_.sortBy(r,"country"),n=[],a=[],o=[],i=[],u=r[0].country,c=l=1;c<r.length;c++)(s=r[c]).country==u?l++:(n.push(u),a.push(l),u=s.country,l=1);for(n.push(u),a.push(l),d=255/n.length,f=0;f<n.length;f++)p=_.random(0,n.length),h=_.random(0,n.length),m=_.random(0,n.length),y="rgba("+d*p+","+d*h+","+d*m+",0.2)",o.push(y),g="rgba("+d*p+","+d*h+","+d*m+",1)",i.push(g);new Chart(t,{type:"pie",data:{labels:n,datasets:[{data:a,backgroundColor:o,borderColor:i,borderWidth:1}]}})}else new Chart(t,{type:"pie",data:{labels:["Нема даних"],datasets:[{data:[0],backgroundColor:["rgba(163,221,203,0.2)"],borderColor:["rgba(163,221,203,1)"],borderWidth:1}]}});case 5:case"end":return e.stop()}})}function dayforbirthday(e){var t=dayjs(),r=dayjs(e),n=t.diff(r,"year"),a=r.add(n,"year");return 0<t.diff(r,"day")&&(a=r.add(n+1,"year")),Math.floor(a.diff(t,"day"))}
//# sourceMappingURL=6.min.js.map
